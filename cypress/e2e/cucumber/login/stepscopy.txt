import { Given, When, Then } from '@badeball/cypress-cucumber-preprocessor';

const loginPage = require('../../../page-objects/pages/LoginPage');

Given('I access {string} page registration Sucessfully', (url) => {
    cy.visit(url);
    cy.url().should('eq', url);
    cy.wait(2000);
    loginPage.essentialCookiesBtn().click();
    cy.wait(2000);
    /*  loginPage.newAccoutBtn().click(); */
    cy.get('div').should('contain', 'Regista-te');
});

When('I fill the form with valid data and click registration button', () => {
    loginPage.firstName().type('Josespo');
    loginPage.lastName().type('Memepo');
    loginPage.email().type('asdasda@teste.com');
    loginPage.emailConfirmation().type('asdasda@teste.com');
    loginPage.password().type('assssas112');
    loginPage.birthDay().select('20');
    loginPage.birthMonth().select('3');
    loginPage.birthYear().select('1986');
    loginPage.gender().check('2');
    loginPage.submitBtn().click();
});
When('I recieve and confirm the registration confirmation email', () => {
    cy.log(`when`);
});

Then(
    'I the Registration should be complete and i will be redirected to user page',
    () => {
        cy.contains('Permitir apenas cookies essenciais').click();
        cy.contains('[aria-label=O teu perfil]').click();
        cy.contains('Josespo Memepo').click();
        cy.get('div').should('contain', 'Josespo Memepo');
    }
);
/* error message = A data selecionada não é válida */
/* Josespo
Memepo
Teste123 */
/* cojavak482@hostovz.com */
